/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import { McpServer } from "@modelcontextprotocol/sdk/server/mcp.js";
import { SafepayCore } from "../core.js";
import { SDKOptions } from "../lib/config.js";
import type { ConsoleLogger } from "./console-logger.js";
import { createRegisterPrompt } from "./prompts.js";
import {
  createRegisterResource,
  createRegisterResourceTemplate,
} from "./resources.js";
import { MCPScope } from "./scopes.js";
import { createRegisterTool } from "./tools.js";
import { tool$deleteClientPlansV1PlanD4869a7800364d6697bd6afeb5282bcd } from "./tools/deleteClientPlansV1PlanD4869a7800364d6697bd6afeb5282bcd.js";
import { tool$deleteInvoiceQuickLinksV1Link297bfa4bF61c4c7280a4368d731e890c } from "./tools/deleteInvoiceQuickLinksV1Link297bfa4bF61c4c7280a4368d731e890c.js";
import { tool$deleteUserCustomersV1Cus17febb02B2cd4cf8B2997a447530ef52 } from "./tools/deleteUserCustomersV1Cus17febb02B2cd4cf8B2997a447530ef52.js";
import {
  tool$deleteUserCustomersV1Cus2fc20245E0f8447fAf75Fa651cfd54aaWalletPmBea0077422ba44ce82c53cdd1a342e89,
} from "./tools/deleteUserCustomersV1Cus2fc20245E0f8447fAf75Fa651cfd54aaWalletPmBea0077422ba44ce82c53cdd1a342e89.js";
import { tool$deleteUserWalletsV1Inst8ed5e401Ab7b442c8473Dee137827448 } from "./tools/deleteUserWalletsV1Inst8ed5e401Ab7b442c8473Dee137827448.js";
import { tool$getClientApiSettingsV1 } from "./tools/getClientApiSettingsV1.js";
import { tool$getClientPlansV1PlanD4869a7800364d6697bd6afeb5282bcd } from "./tools/getClientPlansV1PlanD4869a7800364d6697bd6afeb5282bcd.js";
import { tool$getClientPlansV1Search } from "./tools/getClientPlansV1Search.js";
import { tool$getClientSubscriptionsV1Search } from "./tools/getClientSubscriptionsV1Search.js";
import { tool$getClientSubscriptionsV1SubC841ea40613c41a389847cb11f66d541 } from "./tools/getClientSubscriptionsV1SubC841ea40613c41a389847cb11f66d541.js";
import { tool$getClientTransactionsV1Search } from "./tools/getClientTransactionsV1Search.js";
import { tool$getClientTransactionsV1Txn17553398B91d41e9Ae47165e194d06a1 } from "./tools/getClientTransactionsV1Txn17553398B91d41e9Ae47165e194d06a1.js";
import { tool$getInvoiceQuickLinksV1 } from "./tools/getInvoiceQuickLinksV1.js";
import { tool$getInvoiceQuickLinksV1Link297bfa4bF61c4c7280a4368d731e890c } from "./tools/getInvoiceQuickLinksV1Link297bfa4bF61c4c7280a4368d731e890c.js";
import { tool$getInvoiceQuickLinksV2Link291208afEf954b7dB171Aaaa16998d31 } from "./tools/getInvoiceQuickLinksV2Link291208afEf954b7dB171Aaaa16998d31.js";
import { tool$getReporterApiV1Payments } from "./tools/getReporterApiV1Payments.js";
import { tool$getReporterApiV1PaymentsTrackF865abdd3a61484280001cffa38f1fbc } from "./tools/getReporterApiV1PaymentsTrackF865abdd3a61484280001cffa38f1fbc.js";
import { tool$getUserAddressV2Address5ce54f87A8234da689907b26d048ce00 } from "./tools/getUserAddressV2Address5ce54f87A8234da689907b26d048ce00.js";
import { tool$getUserCustomersV1 } from "./tools/getUserCustomersV1.js";
import { tool$getUserCustomersV1Cus11db365b4d86494bAcca79d6e09efa67 } from "./tools/getUserCustomersV1Cus11db365b4d86494bAcca79d6e09efa67.js";
import { tool$getUserCustomersV1Cus2fc20245E0f8447fAf75Fa651cfd54aaWallet } from "./tools/getUserCustomersV1Cus2fc20245E0f8447fAf75Fa651cfd54aaWallet.js";
import {
  tool$getUserCustomersV1Cus2fc20245E0f8447fAf75Fa651cfd54aaWalletPmBea0077422ba44ce82c53cdd1a342e89,
} from "./tools/getUserCustomersV1Cus2fc20245E0f8447fAf75Fa651cfd54aaWalletPmBea0077422ba44ce82c53cdd1a342e89.js";
import { tool$getUserMetaV2Countries } from "./tools/getUserMetaV2Countries.js";
import { tool$getUserMetaV2Country } from "./tools/getUserMetaV2Country.js";
import { tool$getUserV2 } from "./tools/getUserV2.js";
import { tool$getUserV2Exists } from "./tools/getUserV2Exists.js";
import { tool$getUserWalletsV1 } from "./tools/getUserWalletsV1.js";
import { tool$postAuthV1CompanyAuthenticate } from "./tools/postAuthV1CompanyAuthenticate.js";
import { tool$postAuthV2UserLogin } from "./tools/postAuthV2UserLogin.js";
import { tool$postClientApiSettingsV1 } from "./tools/postClientApiSettingsV1.js";
import { tool$postClientHooksV2Test } from "./tools/postClientHooksV2Test.js";
import { tool$postClientPassportV1Token } from "./tools/postClientPassportV1Token.js";
import { tool$postClientPlansV1 } from "./tools/postClientPlansV1.js";
import { tool$postClientSubscriptionsV1SubEe09b0f9974f4deeB1b34ad8dad2e7b2Cancel } from "./tools/postClientSubscriptionsV1SubEe09b0f9974f4deeB1b34ad8dad2e7b2Cancel.js";
import { tool$postClientTransactionsV1Txn17553398B91d41e9Ae47165e194d06a1Refund } from "./tools/postClientTransactionsV1Txn17553398B91d41e9Ae47165e194d06a1Refund.js";
import { tool$postInvoiceQuickLinksV1 } from "./tools/postInvoiceQuickLinksV1.js";
import { tool$postInvoiceQuickLinksV2 } from "./tools/postInvoiceQuickLinksV2.js";
import { tool$postOrderPaymentsV3 } from "./tools/postOrderPaymentsV3.js";
import { tool$postOrderPaymentsV3Track1a46dc7091f948928e250bb5205b69c7 } from "./tools/postOrderPaymentsV3Track1a46dc7091f948928e250bb5205b69c7.js";
import { tool$postOrderPaymentsV3Track1a46dc7091f948928e250bb5205b69c7Void } from "./tools/postOrderPaymentsV3Track1a46dc7091f948928e250bb5205b69c7Void.js";
import { tool$postOrderPaymentsV3Track70fdbb06Bbf744e1B50a672d9f1d8b26Refund } from "./tools/postOrderPaymentsV3Track70fdbb06Bbf744e1B50a672d9f1d8b26Refund.js";
import { tool$postOrderPaymentsV3Track7233ed61Fe5048368a84C5e17ae90f4d } from "./tools/postOrderPaymentsV3Track7233ed61Fe5048368a84C5e17ae90f4d.js";
import { tool$postOrderPaymentsV3Track9d765b77608f46bc84d25f4392753ca3Reversal } from "./tools/postOrderPaymentsV3Track9d765b77608f46bc84d25f4392753ca3Reversal.js";
import { tool$postOrderPaymentsV3TrackA6f9b00c8a254cbf95f9Cd6bc440eca6 } from "./tools/postOrderPaymentsV3TrackA6f9b00c8a254cbf95f9Cd6bc440eca6.js";
import { tool$postOrderPaymentsV3TrackAa38d5b7A3a245c5Bed8586b0bae8d06Metadata } from "./tools/postOrderPaymentsV3TrackAa38d5b7A3a245c5Bed8586b0bae8d06Metadata.js";
import { tool$postOrderPaymentsV3TrackDccdef16008e4fae81cc1b7d81bf6c44 } from "./tools/postOrderPaymentsV3TrackDccdef16008e4fae81cc1b7d81bf6c44.js";
import { tool$postOrderPaymentsV3TrackF3adbae6640247fe948bEe82244ac372 } from "./tools/postOrderPaymentsV3TrackF3adbae6640247fe948bEe82244ac372.js";
import { tool$postUserAddressV2 } from "./tools/postUserAddressV2.js";
import { tool$postUserCustomersV1 } from "./tools/postUserCustomersV1.js";
import { tool$postUserV1Guest } from "./tools/postUserV1Guest.js";
import { tool$postUserV2 } from "./tools/postUserV2.js";
import { tool$postV1CompanyLogin } from "./tools/postV1CompanyLogin.js";
import { tool$putClientApiSettingsV1 } from "./tools/putClientApiSettingsV1.js";
import { tool$putClientPlansV1PlanD4869a7800364d6697bd6afeb5282bcd } from "./tools/putClientPlansV1PlanD4869a7800364d6697bd6afeb5282bcd.js";
import { tool$putClientSubscriptionsV1Sub130aa5b290564c8eB9c99149e68f17ceResumption } from "./tools/putClientSubscriptionsV1Sub130aa5b290564c8eB9c99149e68f17ceResumption.js";
import { tool$putClientSubscriptionsV1SubEe09b0f9974f4deeB1b34ad8dad2e7b3 } from "./tools/putClientSubscriptionsV1SubEe09b0f9974f4deeB1b34ad8dad2e7b3.js";
import { tool$putInvoiceQuickLinksV1Link297bfa4bF61c4c7280a4368d731e890c } from "./tools/putInvoiceQuickLinksV1Link297bfa4bF61c4c7280a4368d731e890c.js";
import { tool$putOrderPaymentsV3TrackAefeaefeC21a4678Ab1e181bfe2920be } from "./tools/putOrderPaymentsV3TrackAefeaefeC21a4678Ab1e181bfe2920be.js";
import { tool$putUserAddressV2Address5ce54f87A8234da689907b26d048ce00 } from "./tools/putUserAddressV2Address5ce54f87A8234da689907b26d048ce00.js";
import { tool$putUserCustomersV1Cus2fc20245E0f8447fAf75Fa651cfd54aa } from "./tools/putUserCustomersV1Cus2fc20245E0f8447fAf75Fa651cfd54aa.js";

export function createMCPServer(deps: {
  logger: ConsoleLogger;
  allowedTools?: string[] | undefined;
  scopes?: MCPScope[] | undefined;
  serverURL?: string | undefined;
  serverIdx?: SDKOptions["serverIdx"] | undefined;
  baseUrl?: SDKOptions["baseUrl"] | undefined;
  authPort?: SDKOptions["authPort"] | undefined;
  sandboxBaseUrl?: SDKOptions["sandboxBaseUrl"] | undefined;
}) {
  const server = new McpServer({
    name: "Safepay",
    version: "0.0.6",
  });

  const client = new SafepayCore({
    serverURL: deps.serverURL,
    serverIdx: deps.serverIdx,
    baseUrl: deps.baseUrl,
    authPort: deps.authPort,
    sandboxBaseUrl: deps.sandboxBaseUrl,
  });

  const scopes = new Set(deps.scopes);

  const allowedTools = deps.allowedTools && new Set(deps.allowedTools);
  const tool = createRegisterTool(
    deps.logger,
    server,
    client,
    scopes,
    allowedTools,
  );
  const resource = createRegisterResource(deps.logger, server, client, scopes);
  const resourceTemplate = createRegisterResourceTemplate(
    deps.logger,
    server,
    client,
    scopes,
  );
  const prompt = createRegisterPrompt(deps.logger, server, client, scopes);
  const register = { tool, resource, resourceTemplate, prompt };
  void register; // suppress unused warnings

  tool(tool$postV1CompanyLogin);
  tool(tool$postAuthV1CompanyAuthenticate);
  tool(tool$postAuthV2UserLogin);
  tool(tool$postUserV1Guest);
  tool(tool$postClientApiSettingsV1);
  tool(tool$getClientApiSettingsV1);
  tool(tool$putClientApiSettingsV1);
  tool(tool$postClientPassportV1Token);
  tool(tool$postUserCustomersV1);
  tool(tool$getUserCustomersV1);
  tool(tool$putUserCustomersV1Cus2fc20245E0f8447fAf75Fa651cfd54aa);
  tool(tool$getUserCustomersV1Cus11db365b4d86494bAcca79d6e09efa67);
  tool(tool$deleteUserCustomersV1Cus17febb02B2cd4cf8B2997a447530ef52);
  tool(
    tool$getUserCustomersV1Cus2fc20245E0f8447fAf75Fa651cfd54aaWalletPmBea0077422ba44ce82c53cdd1a342e89,
  );
  tool(
    tool$deleteUserCustomersV1Cus2fc20245E0f8447fAf75Fa651cfd54aaWalletPmBea0077422ba44ce82c53cdd1a342e89,
  );
  tool(tool$getUserCustomersV1Cus2fc20245E0f8447fAf75Fa651cfd54aaWallet);
  tool(tool$postUserAddressV2);
  tool(tool$putUserAddressV2Address5ce54f87A8234da689907b26d048ce00);
  tool(tool$getUserAddressV2Address5ce54f87A8234da689907b26d048ce00);
  tool(tool$postOrderPaymentsV3);
  tool(tool$postOrderPaymentsV3Track7233ed61Fe5048368a84C5e17ae90f4d);
  tool(tool$postOrderPaymentsV3TrackDccdef16008e4fae81cc1b7d81bf6c44);
  tool(tool$postOrderPaymentsV3TrackA6f9b00c8a254cbf95f9Cd6bc440eca6);
  tool(tool$postOrderPaymentsV3TrackF3adbae6640247fe948bEe82244ac372);
  tool(tool$postOrderPaymentsV3Track1a46dc7091f948928e250bb5205b69c7);
  tool(tool$putOrderPaymentsV3TrackAefeaefeC21a4678Ab1e181bfe2920be);
  tool(tool$postOrderPaymentsV3TrackAa38d5b7A3a245c5Bed8586b0bae8d06Metadata);
  tool(tool$postOrderPaymentsV3Track9d765b77608f46bc84d25f4392753ca3Reversal);
  tool(tool$postOrderPaymentsV3Track70fdbb06Bbf744e1B50a672d9f1d8b26Refund);
  tool(tool$postOrderPaymentsV3Track1a46dc7091f948928e250bb5205b69c7Void);
  tool(tool$getReporterApiV1PaymentsTrackF865abdd3a61484280001cffa38f1fbc);
  tool(tool$getReporterApiV1Payments);
  tool(tool$getUserMetaV2Countries);
  tool(tool$getUserMetaV2Country);
  tool(tool$postClientHooksV2Test);
  tool(tool$postClientPlansV1);
  tool(tool$getClientPlansV1PlanD4869a7800364d6697bd6afeb5282bcd);
  tool(tool$putClientPlansV1PlanD4869a7800364d6697bd6afeb5282bcd);
  tool(tool$deleteClientPlansV1PlanD4869a7800364d6697bd6afeb5282bcd);
  tool(tool$getClientPlansV1Search);
  tool(tool$getClientSubscriptionsV1SubC841ea40613c41a389847cb11f66d541);
  tool(tool$getClientSubscriptionsV1Search);
  tool(tool$putClientSubscriptionsV1SubEe09b0f9974f4deeB1b34ad8dad2e7b3);
  tool(
    tool$putClientSubscriptionsV1Sub130aa5b290564c8eB9c99149e68f17ceResumption,
  );
  tool(tool$postClientSubscriptionsV1SubEe09b0f9974f4deeB1b34ad8dad2e7b2Cancel);
  tool(tool$getClientTransactionsV1Search);
  tool(tool$getClientTransactionsV1Txn17553398B91d41e9Ae47165e194d06a1);
  tool(tool$postClientTransactionsV1Txn17553398B91d41e9Ae47165e194d06a1Refund);
  tool(tool$postInvoiceQuickLinksV2);
  tool(tool$getInvoiceQuickLinksV2Link291208afEf954b7dB171Aaaa16998d31);
  tool(tool$postInvoiceQuickLinksV1);
  tool(tool$getInvoiceQuickLinksV1);
  tool(tool$getInvoiceQuickLinksV1Link297bfa4bF61c4c7280a4368d731e890c);
  tool(tool$putInvoiceQuickLinksV1Link297bfa4bF61c4c7280a4368d731e890c);
  tool(tool$deleteInvoiceQuickLinksV1Link297bfa4bF61c4c7280a4368d731e890c);
  tool(tool$postUserV2);
  tool(tool$getUserV2);
  tool(tool$getUserV2Exists);
  tool(tool$getUserWalletsV1);
  tool(tool$deleteUserWalletsV1Inst8ed5e401Ab7b442c8473Dee137827448);

  return server;
}
